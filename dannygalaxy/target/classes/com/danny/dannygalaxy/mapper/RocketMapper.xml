<?xml version="1.0" encoding="UTF-8"?>
<!-- 문서 유형 : mapper -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	
<mapper namespace="com.danny.dannygalaxy.mapper.RocketMapper">

	<!-- 로켓전체 가져오기 -->
	<select id="selectRocketlist" resultType="com.danny.dannygalaxy.domain.RocketVO">
		SELECT rkNo,rkName,rkEngine,rkAvailDate,rkPeopleCnt,rkPrice
		FROM schatz.tbl_rockets
		<if test="rocketName != '' and rocketName != null">
				<trim prefix="where">
					rkName = #{rocketName}
				</trim>	
		</if>
		<if test="rocketName != '' and rocketName != null">
				<trim prefix="and">
					rkAvailDate = to_timestamp(#{boardingDate},'yyyy-mm-dd')
				</trim>	
		</if>
		
		
		<if test="highSpeed != '' and highSpeed != null">
			<if test="highSpeed == 1">
				<trim prefix="order by rkEngine">
					desc
				</trim>
			</if>
		</if>
		<if test="priceOrder != '' and priceOrder != null">
			<if test="priceOrder == 1">
				order by rkPrice desc
			</if>
			<if test="priceOrder == 2">
				order by rkPrice asc
			</if>
		</if>
	
	</select> 


	
</mapper>
	